<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Kunci Jawaban & Google Form – CSIT XI TSM</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500&display=swap" rel="stylesheet">
<style>
:root {
  --primary:#8e44ad;
  --primary-light:#f3e5f5;
  --border:#e0e0e0;
  --text:#202124;
}
* { box-sizing:border-box; font-family:'Google Sans', sans-serif; color:var(--text) }
body { margin:0; background:#fafafa }
header { background:var(--primary); padding:16px; color:#fff; font-size:20px; font-weight:500 }
.wrapper { display:flex; flex-wrap:wrap; gap:16px; padding:16px }
.card {
  background:#fff; border:1px solid var(--border); border-radius:8px;
  padding:16px; box-shadow:0 1px 3px rgba(0,0,0,.1); flex:1;
}
textarea, input {
  width:100%; padding:10px; border:1px solid var(--border); border-radius:4px; font-size:14px;
}
textarea:focus, input:focus { border-color:var(--primary); outline:none }
.btn {
  background:var(--primary); color:#fff; padding:10px 16px; border:none; border-radius:4px;
  margin-top:8px; cursor:pointer; font-weight:500;
}
.btn:hover { filter:brightness(1.1) }
table { width:100%; border-collapse:collapse; margin-top:12px }
th, td { padding:8px; border:1px solid var(--border); font-size:14px }
th { background:var(--primary-light); color:var(--primary) }
iframe { width:100%; border:none; min-height:600px }
@media (min-width:900px) {
  .wrapper { flex-wrap:nowrap }
  .card { flex:1 1 50% }
}
</style>
</head>
<body>

<header>Kunci Jawaban & Google Form – CSIT XI TSM</header>

<div class="wrapper">
  <!-- Form Kunci Jawaban -->
  <div class="card">
    <h3>1. Input Soal untuk Kunci Jawaban</h3>
    <textarea id="inputText" placeholder="Tempelkan teks soal dari Google Form di sini..."></textarea>
    <button class="btn" onclick="proses()">Proses</button>
    <div id="hasil"></div>
  </div>

  <!-- Preview Google Form -->
  <div class="card">
    <h3>2. Preview Google Form</h3>
    <input type="text" id="formUrl" placeholder="Tempelkan link Google Form (pendek / panjang)">
    <button class="btn" onclick="loadForm()">Tampilkan Form</button>
    <div id="formContainer"></div>
  </div>
</div>

<script>
const kunciJawaban = {
  "Relay digunakan dalam sistem kelistrikan untuk": "Mengendalikan arus besar dengan arus kecil",
  "Salah satu fungsi panel instrumen adalah": "Menampilkan informasi kendaraan",
  "Kabel negatif biasanya berwarna": "Hitam",
  "Sensor pada sistem CAN bertugas": "Memberikan data ke ECU",
  "Fungsi utama switch rem adalah": "Mengaktifkan lampu rem",
  "Sistem CAN sering digunakan pada": "Kendaraan modern",
  "Fungsi utama wiring diagram adalah": "Menunjukkan jalur kelistrikan",
  "Lampu sein berfungsi sebagai": "Isyarat belok",
  "Fungsi ECU dalam sistem jaringan kendaraan adalah": "Mengolah dan mengirim data sensor",
  "Komunikasi data antar ECU pada kendaraan modern dilakukan melalui": "CAN Bus",
  "Komponen penghubung antara aki dan beban listrik disebut": "Kabel",
  "Arus DC merupakan singkatan dari": "Direct Current",
  "Komponen pelindung rangkaian listrik dari arus berlebih adalah": "Sekring",
  "Komponen yang menunjukkan jarak tempuh kendaraan adalah": "Trip meter",
  "Fungsi utama aki pada sistem kelistrikan sepeda motor adalah": "Menyimpan dan menyuplai arus listrik",
  "Komponen yang menunjukkan kecepatan kendaraan adalah": "Spidometer",
  "Jenis arus yang digunakan oleh aki kendaraan adalah": "DC",
  "Jenis lampu utama modern yang hemat energi adalah": "LED",
  "Fungsi regulator pada sistem pengisian adalah": "Menstabilkan tegangan output",
  "Lampu hazard menyala bersamaan menandakan": "Berhenti mendadak atau darurat",
  "Fungsi utama sistem kelistrikan kendaraan adalah": "Memberi tenaga listrik pada komponen",
  "Fungsi utama sekering adalah": "Melindungi dari arus pendek",
  "Sensor cahaya pada sistem penerangan berfungsi untuk": "Menyalakan lampu secara otomatis",
  "Komponen yang berfungsi mengubah arus bolak-balik menjadi arus searah adalah": "Rectifier",
  "Sistem CAN biasanya terhubung dengan": "Beberapa ECU",
  "Lampu indikator check engine menandakan": "Ada masalah di sistem mesin",
  "Komponen yang menyimpan data trouble pada kendaraan adalah": "ECU",
  "Jenis kabel yang umum digunakan untuk sistem kelistrikan motor adalah": "Kabel serabut tembaga",
  "Fuel gauge berfungsi untuk menunjukkan": "Volume bahan bakar"
};

function proses() {
  const text = document.getElementById("inputText").value;
  const baris = text.split("\n").map(b => b.trim()).filter(b => b);
  let hasil = [];
  baris.forEach(b => {
    for (let kunci in kunciJawaban) {
      if (b.startsWith(kunci)) {
        hasil.push({ soal: b, jawaban: kunciJawaban[kunci] });
        break;
      }
    }
  });
  if (!hasil.length) {
    document.getElementById("hasil").innerHTML = "<p style='color:red'>Tidak ada soal yang cocok ditemukan!</p>";
    return;
  }
  let html = "<table><tr><th>No</th><th>Pertanyaan</th><th>Jawaban</th></tr>";
  hasil.forEach((item, i) => {
    html += `<tr><td>${i+1}</td><td>${item.soal}</td><td>${item.jawaban}</td></tr>`;
  });
  html += "</table>";
  document.getElementById("hasil").innerHTML = html;
}

function loadForm() {
  let url = document.getElementById("formUrl").value.trim();
  if (!url) return alert("Masukkan URL Google Form!");

  // Jika link pendek forms.gle -> convert ke link panjang
  if (url.includes("forms.gle")) {
    alert("Link pendek akan di-resolve otomatis di browser");
    // Embed langsung saja, browser akan resolve
    url = "https://docs.google.com/forms/d/e/" + url.split("/").pop() + "/viewform?embedded=true";
  }
  // Jika link panjang docs.google.com/forms/
  else if (url.includes("docs.google.com/forms")) {
    if (!url.includes("embedded=true")) {
      if (url.includes("/viewform")) {
        url = url.replace("/viewform", "/viewform?embedded=true");
      } else {
        url += "?embedded=true";
      }
    }
  } else {
    return alert("URL bukan Google Form!");
  }

  document.getElementById("formContainer").innerHTML =
    `<iframe src="${url}" allowfullscreen></iframe>`;
}
</script>

</body>
</html>
